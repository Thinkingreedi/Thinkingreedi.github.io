{"title":"WEB开发的安全之旅","uid":"3de72e581df02b5836f80f8bb40e188c","slug":"青训营--WEB开发的安全之旅","date":"2022-01-28T03:01:14.000Z","updated":"2025-07-14T15:12:20.471Z","comments":true,"path":"api/articles/青训营--WEB开发的安全之旅.json","keywords":"web前端开发,web前端博客,个人博客,html,css,javascript,vue,react","cover":"https://img-blog.csdnimg.cn/3112c385d3c845d4b0305beebbc3ffdf.jpeg","content":"<hr>\n<h2 id=\"1、假如你是一个hacker–攻击\"><a href=\"#1、假如你是一个hacker–攻击\" class=\"headerlink\" title=\"1、假如你是一个hacker–攻击\"></a>1、假如你是一个hacker–攻击</h2><h3 id=\"Cross-Site-Scripting-XSS\"><a href=\"#Cross-Site-Scripting-XSS\" class=\"headerlink\" title=\"Cross-Site Scripting(XSS)\"></a>Cross-Site Scripting(XSS)</h3><p>XSS攻击通常指的是通过利用网页开发时留下的漏洞，通过巧妙的方法注入恶意指令代码到网页，使用户加载并执行攻击者恶意制造的网页程序。</p>\n<p><strong>XSS主要利用了：</strong></p>\n<ul>\n<li>盲目信任用户提交的内容</li>\n<li>sring-&gt;DOM</li>\n<li>document.wirte</li>\n<li>element.innerHTML &#x3D; anyString</li>\n<li>SSR(user_data) &#x2F;&#x2F;伪代码</li>\n</ul>\n<p><strong>特点</strong></p>\n<ul>\n<li>通常难以从 UI 上感知（暗地里执行脚本）</li>\n<li>窃取用户的信息（cookie&#x2F;token）</li>\n<li>绘制UI（例如弹窗），诱骗用户点击&#x2F;填写表单</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/136de92e17904866a25590426f7ddcfa.png#pic_center\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/86d25c7cc2bf4158894c4b2b741f83be.png#pic_center\"><br><strong>类型：</strong></p>\n<ul>\n<li>Stored XSS</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/b7748bf2cd834036924db928031ce2a7.png#pic_center\"></p>\n<ul>\n<li><p>Reflected XSS</p>\n<ul>\n<li>不涉及数据库</li>\n<li>从URL上攻击<br><img src=\"https://img-blog.csdnimg.cn/492a27bf944c482cbb04ab6647f2e889.png#pic_center\"></li>\n</ul>\n</li>\n<li><p>DOM-based XSS</p>\n<ul>\n<li>不需要服务器的参与</li>\n<li>恶意攻击的发起 + 执行，全在浏览器完成<br>  <img src=\"https://img-blog.csdnimg.cn/856f52d80c48487bae4de75a933147ab.png#pic_center\"></li>\n</ul>\n</li>\n<li><p>Mutation-based XSS</p>\n<ul>\n<li>利用了浏览器渲染DOM的特性</li>\n<li>不同浏览器，会有区别（按照浏览器进行攻击）</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/9c8e8bfe15f947cdab0bb081fbf38a34.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/8ad6f792f17c4f07bfc154dc8583e101.png#pic_center\"></p>\n<hr>\n<h3 id=\"Cross-site-request-forgert-CSRF\"><a href=\"#Cross-site-request-forgert-CSRF\" class=\"headerlink\" title=\"Cross-site request forgert(CSRF)\"></a>Cross-site request forgert(CSRF)</h3><ul>\n<li>在用户不知情的前提下</li>\n<li>利用用户权限（cookie）</li>\n<li>构造指定 HTTP 请求，窃取或者修改用户敏感信息</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/f4ab04888dd04bec9a1394134a703612.png#pic_center\"></p>\n<hr>\n<h3 id=\"SQL-injection\"><a href=\"#SQL-injection\" class=\"headerlink\" title=\"SQL injection\"></a>SQL injection</h3><p><img src=\"https://img-blog.csdnimg.cn/b85b36030932429685ad5c961e9b8d6e.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/d296531d834d4e54bb65cd6237beea6e.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/2bd95180d150487f8bfee5539ce8b2e1.png#pic_center\"><br><strong>SSRF injection</strong><img src=\"https://img-blog.csdnimg.cn/339bb688c60c4969aae050e42dc1de6f.png#pic_center\"></p>\n<hr>\n<h3 id=\"Denial-of-Service-Dos\"><a href=\"#Denial-of-Service-Dos\" class=\"headerlink\" title=\"Denial of Service(Dos)\"></a>Denial of Service(Dos)</h3><p>通过某种方式（构造特定请求），导致服务器资源被显著消耗，来不及响应更多请求，导致请求被挤压，进而雪崩效应。</p>\n<p><strong>正则表达式–贪婪模式</strong><br><img src=\"https://img-blog.csdnimg.cn/3d6c2122838246a08725f2d156ab2b2e.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/ce0ade67af5443409b3d0ea4b464cbc5.png#pic_center\"></p>\n<hr>\n<h3 id=\"Distributed-DoS-DDoS\"><a href=\"#Distributed-DoS-DDoS\" class=\"headerlink\" title=\"Distributed DoS(DDoS)\"></a>Distributed DoS(DDoS)</h3><p>短时间内，基于大量僵尸设备的请求流量，服务器不能及时完成全部请求，导致请求堆积，进而雪崩效应，无法响应新请求。</p>\n<p><strong>特点：</strong></p>\n<ul>\n<li>直接访问IP</li>\n<li>任意API</li>\n<li>消耗大量带宽(耗尽)</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/6dde2b0d49cb433b92059e02c6461b89.png#pic_center\"></p>\n<hr>\n<h3 id=\"基于传输层–中间人攻击\"><a href=\"#基于传输层–中间人攻击\" class=\"headerlink\" title=\"基于传输层–中间人攻击\"></a>基于传输层–中间人攻击</h3><ul>\n<li>明文传输</li>\n<li>信息篡改不可知</li>\n<li>对方身份未认证</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/6a063020550545e9a7cea8cd0ba3c1f8.png#pic_center\"></p>\n<hr>\n<h2 id=\"2、假如你是一个开发者–防御\"><a href=\"#2、假如你是一个开发者–防御\" class=\"headerlink\" title=\"2、假如你是一个开发者–防御\"></a>2、假如你是一个开发者–防御</h2><h3 id=\"XSS\"><a href=\"#XSS\" class=\"headerlink\" title=\"XSS\"></a>XSS</h3><p><strong>原则</strong></p>\n<ul>\n<li>永远不要相信用户提交的任何类容</li>\n<li>不要将用户提交内容直接转化成dom</li>\n</ul>\n<p><strong>现成工具</strong></p>\n<ul>\n<li>前端<ul>\n<li>主流框架默认防御XSS</li>\n<li>google-closure-library</li>\n</ul>\n</li>\n<li>服务端（node）<ul>\n<li>DOMPurify</li>\n</ul>\n</li>\n</ul>\n<p><strong>注意</strong></p>\n<ul>\n<li><p>string-&gt;DOM<br><img src=\"https://img-blog.csdnimg.cn/cf926a40117448ca8f736306c5bdf0f7.png#pic_center\"></p>\n</li>\n<li><p>上次svg（以为里面可以插入script标签）<br><img src=\"https://img-blog.csdnimg.cn/0195a8bfc5ec40f3a59f09d902be7508.png#pic_center\"></p>\n</li>\n<li><p>自定义跳转链接<br><img src=\"https://img-blog.csdnimg.cn/3e6fa5c858d64bac90fe29137c7c77aa.png#pic_center\"></p>\n</li>\n<li><p>自定义样式<br><img src=\"https://img-blog.csdnimg.cn/7e78b6d42d0e4ca09fdd476fa0570e97.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/56349fdd817e48ebb62b9fc8bbf33f54.png#pic_center\"></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Conten-Security-Policy-CSP\"><a href=\"#Conten-Security-Policy-CSP\" class=\"headerlink\" title=\"Conten Security Policy(CSP)\"></a>Conten Security Policy(CSP)</h3><ul>\n<li><p>拿些源被认为是安全的</p>\n</li>\n<li><p>来自安全源的脚本可以执行，否则直接抛出错误</p>\n</li>\n<li><p>对eval + inline script直接拒绝<br><img src=\"https://img-blog.csdnimg.cn/d54097dcbcdc46a3897eaddb12812f83.png#pic_center\"></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"CSRF的防御\"><a href=\"#CSRF的防御\" class=\"headerlink\" title=\"CSRF的防御\"></a>CSRF的防御</h3><p><img src=\"https://img-blog.csdnimg.cn/1d2633b097ec498a9c4540b35e5f0e7f.png#pic_center\"><br><strong>token</strong><br><img src=\"https://img-blog.csdnimg.cn/e0fbdea9e259499fbeb0e20561081bb5.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/15137c6ab4504176be20aa9901738043.png#pic_center\"><br><strong>iframe攻击</strong><br><img src=\"https://img-blog.csdnimg.cn/34666c5cc12843dc99903b7c69e76224.png#pic_center\"></p>\n<p><strong>anti-pattern</strong><br><img src=\"https://img-blog.csdnimg.cn/5b3e48d1c5ac4ef7a843ff936786d812.png#pic_center\"></p>\n<p> <strong>SameSite Cookie</strong><br><img src=\"https://img-blog.csdnimg.cn/13c0a93bf6bc40d1b556914ae1e597f8.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/de2b5e4999324c25bea398a32cc1d228.png#pic_center\"><br><strong>对比SameSite vs CORS</strong></p>\n<ul>\n<li>SameSite<ul>\n<li>cookie发送</li>\n<li>domain vs 页面域名</li>\n</ul>\n</li>\n<li>CORS<ul>\n<li>资源读写</li>\n<li>资源域名 vs 页面域名</li>\n<li>白名单</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"inject\"><a href=\"#inject\" class=\"headerlink\" title=\"inject\"></a>inject</h3><ul>\n<li>找到项目中查询SQL的地方</li>\n<li>使用 prepared statement<br><strong>原则</strong></li>\n<li>最小权限原则<ul>\n<li>sudo || root</li>\n</ul>\n</li>\n<li>建立允许白名单 + 过滤<ul>\n<li>rm</li>\n</ul>\n</li>\n<li>对URL类型参数进行协议、域名、ip等限制<ul>\n<li>访问内网<br>  Regex Dos<br>   不要写出贪婪匹配的方式，特别处理接口的的地方<br>   拒绝使用用户提供的正则表达式</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"DDos\"><a href=\"#DDos\" class=\"headerlink\" title=\"DDos\"></a>DDos</h3><ul>\n<li>流量治理<ul>\n<li>负载均衡</li>\n<li>API网关</li>\n<li>CDN</li>\n</ul>\n</li>\n<li>快速自动扩容</li>\n<li>非核心服务降级</li>\n</ul>\n<hr>\n<h3 id=\"传输层–防御中间人\"><a href=\"#传输层–防御中间人\" class=\"headerlink\" title=\"传输层–防御中间人\"></a>传输层–防御中间人</h3><p>HTTPS</p>\n<ul>\n<li>可靠性:加密</li>\n<li>完整性:MAC验证</li>\n<li>不可抵赖性:数字签名</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/5d111b4cd006477faa4d68b30d7de5b1.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/ffee9b913d1147bd969f738aa99b2ad9.png#pic_center\"><br><strong>完整性</strong><br><img src=\"https://img-blog.csdnimg.cn/f4e6ee3300264da7a40608c9827c9704.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/921a5b5eb6e6486bbc856e96e83063e6.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/a27c4f6cf23f4632b06f6da08db45150.png#pic_center\"><br>成也证书，败也证书，当签名算法不够健壮时，签名算法被暴力破解！</p>\n<h2 id=\"HTTP-Strict-Transport-Security-HSTS\"><a href=\"#HTTP-Strict-Transport-Security-HSTS\" class=\"headerlink\" title=\"HTTP Strict-Transport-Security(HSTS)\"></a>HTTP Strict-Transport-Security(HSTS)</h2><p><img src=\"https://img-blog.csdnimg.cn/137a282027e24028b63ee1b92e92c6cb.png#pic_center\"></p>\n<h2 id=\"Subresource-Integrity-SRI\"><a href=\"#Subresource-Integrity-SRI\" class=\"headerlink\" title=\"Subresource Integrity( SRI)\"></a>Subresource Integrity( SRI)</h2><p><img src=\"https://img-blog.csdnimg.cn/71457c58eb954247aeea0af537d00134.png#pic_center\"><br><img src=\"https://img-blog.csdnimg.cn/e1d0ef1cf9aa4df0880abaf7994256f4.png#pic_center\"></p>\n<hr>\n<h3 id=\"扩展：\"><a href=\"#扩展：\" class=\"headerlink\" title=\"扩展：\"></a>扩展：</h3><p><img src=\"https://img-blog.csdnimg.cn/1c1d2626d63d4d0ea85f2562177be957.png#pic_center\"></p>\n<hr>\n<h2 id=\"总结：\"><a href=\"#总结：\" class=\"headerlink\" title=\"总结：\"></a>总结：</h2><ul>\n<li>安全无小事</li>\n<li>使用的依赖（npm package,设置是nodejs）可能会成为最薄弱的一环<ul>\n<li>left-pad事件</li>\n<li>eslint-scope事件</li>\n<li>event-stream事件</li>\n</ul>\n</li>\n<li>保持学习心态</li>\n</ul>\n","feature":false,"text":"WEB开发的安全之旅是一段关于如何保护Web应用程序免受各种安全威胁的旅程。本文将引导读者了解并掌握WEB开发中的常见安全问题和对策。...","permalink":"/post/青训营--WEB开发的安全之旅","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"前端","slug":"前端","count":48,"path":"api/categories/前端.json"}],"tags":[{"name":"字节跳动青训营","slug":"字节跳动青训营","count":21,"path":"api/tags/字节跳动青训营.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%E3%80%81%E5%81%87%E5%A6%82%E4%BD%A0%E6%98%AF%E4%B8%80%E4%B8%AAhacker%E2%80%93%E6%94%BB%E5%87%BB\"><span class=\"toc-text\">1、假如你是一个hacker–攻击</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Cross-Site-Scripting-XSS\"><span class=\"toc-text\">Cross-Site Scripting(XSS)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Cross-site-request-forgert-CSRF\"><span class=\"toc-text\">Cross-site request forgert(CSRF)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#SQL-injection\"><span class=\"toc-text\">SQL injection</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Denial-of-Service-Dos\"><span class=\"toc-text\">Denial of Service(Dos)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Distributed-DoS-DDoS\"><span class=\"toc-text\">Distributed DoS(DDoS)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E4%BA%8E%E4%BC%A0%E8%BE%93%E5%B1%82%E2%80%93%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB\"><span class=\"toc-text\">基于传输层–中间人攻击</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%E3%80%81%E5%81%87%E5%A6%82%E4%BD%A0%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%80%E5%8F%91%E8%80%85%E2%80%93%E9%98%B2%E5%BE%A1\"><span class=\"toc-text\">2、假如你是一个开发者–防御</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#XSS\"><span class=\"toc-text\">XSS</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Conten-Security-Policy-CSP\"><span class=\"toc-text\">Conten Security Policy(CSP)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#CSRF%E7%9A%84%E9%98%B2%E5%BE%A1\"><span class=\"toc-text\">CSRF的防御</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#inject\"><span class=\"toc-text\">inject</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#DDos\"><span class=\"toc-text\">DDos</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BC%A0%E8%BE%93%E5%B1%82%E2%80%93%E9%98%B2%E5%BE%A1%E4%B8%AD%E9%97%B4%E4%BA%BA\"><span class=\"toc-text\">传输层–防御中间人</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#HTTP-Strict-Transport-Security-HSTS\"><span class=\"toc-text\">HTTP Strict-Transport-Security(HSTS)</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Subresource-Integrity-SRI\"><span class=\"toc-text\">Subresource Integrity( SRI)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%A9%E5%B1%95%EF%BC%9A\"><span class=\"toc-text\">扩展：</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93%EF%BC%9A\"><span class=\"toc-text\">总结：</span></a></li></ol>","author":{"name":"会思想的苇草i","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"日拱一卒，功不唐捐 <br/> With each day's arduous effort,<br/>no achievement shall be in vain","socials":{"github":"https://github.com/Thinkingreedi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/ASHIYI66","juejin":"https://juejin.cn/user/4284166567110935","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"数据可视化基础","uid":"296a334cba71a48abd93af36204eaa13","slug":"青训营--数据可视化基础","date":"2022-01-30T06:57:04.000Z","updated":"2025-07-14T15:12:20.472Z","comments":true,"path":"api/articles/青训营--数据可视化基础.json","keywords":"web前端开发,web前端博客,个人博客,html,css,javascript,vue,react","cover":"https://img-blog.csdnimg.cn/3112c385d3c845d4b0305beebbc3ffdf.jpeg","text":"数据可视化基础是数据科学和分析领域中至关重要的一部分，它涉及将数据转换为图形化展示，以便更好地理解和推断数据。通过本文的学习，读者将能够掌握数据可视化的基本原理和技巧，为进一步深入学习和实践打下坚实的基础。...","permalink":"/post/青训营--数据可视化基础","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"前端","slug":"前端","count":48,"path":"api/categories/前端.json"}],"tags":[{"name":"字节跳动青训营","slug":"字节跳动青训营","count":21,"path":"api/tags/字节跳动青训营.json"}],"author":{"name":"会思想的苇草i","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"日拱一卒，功不唐捐 <br/> With each day's arduous effort,<br/>no achievement shall be in vain","socials":{"github":"https://github.com/Thinkingreedi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/ASHIYI66","juejin":"https://juejin.cn/user/4284166567110935","customs":{}}},"feature":false},"next_post":{"title":"Webpack知识体系","uid":"ce5090caf1cc811b128b2cdaa9bcbdd2","slug":"青训营--Webpack知识体系","date":"2022-01-27T14:36:23.000Z","updated":"2025-07-14T15:12:20.471Z","comments":true,"path":"api/articles/青训营--Webpack知识体系.json","keywords":"web前端开发,web前端博客,个人博客,html,css,javascript,vue,react","cover":"https://img-blog.csdnimg.cn/3112c385d3c845d4b0305beebbc3ffdf.jpeg","text":"Webpack是一款现代化的前端构建工具，被广泛用于打包、优化和管理JavaScript模块。本文将介绍Webpack的知识体系，帮助读者全面了解其核心概念和使用方法。...","permalink":"/post/青训营--Webpack知识体系","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"前端","slug":"前端","count":48,"path":"api/categories/前端.json"}],"tags":[{"name":"字节跳动青训营","slug":"字节跳动青训营","count":21,"path":"api/tags/字节跳动青训营.json"}],"author":{"name":"会思想的苇草i","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"日拱一卒，功不唐捐 <br/> With each day's arduous effort,<br/>no achievement shall be in vain","socials":{"github":"https://github.com/Thinkingreedi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/ASHIYI66","juejin":"https://juejin.cn/user/4284166567110935","customs":{}}},"feature":false}}