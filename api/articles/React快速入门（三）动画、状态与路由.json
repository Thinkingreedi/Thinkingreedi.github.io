{"title":"React快速入门（三）动画、状态与路由","uid":"53bbf2ae7f1993bfc42bfd635b4923f6","slug":"React快速入门（三）动画、状态与路由","date":"2025-12-02T15:02:00.000Z","updated":"2025-12-02T15:07:18.424Z","comments":true,"path":"api/articles/React快速入门（三）动画、状态与路由.json","keywords":"web前端开发,web前端博客,个人博客,html,css,javascript,vue,react","cover":"https://i-blog.csdnimg.cn/blog_migrate/cover/7ae60f2846f83a4bd4333f2e9b649239.jpeg","content":"<h1 id=\"React快速入门（三）动画、状态与路由\"><a href=\"#React快速入门（三）动画、状态与路由\" class=\"headerlink\" title=\"React快速入门（三）动画、状态与路由\"></a>React快速入门（三）动画、状态与路由</h1><h2 id=\"React过渡动画\"><a href=\"#React过渡动画\" class=\"headerlink\" title=\"React过渡动画\"></a>React过渡动画</h2><ul>\n<li><p><code>npm install react-transition-group --save</code></p>\n</li>\n<li><p>react-transition-group主要包含四个组件:</p>\n<ul>\n<li><strong>Transition</strong></li>\n<li>该组件是—个和平台无关的组件(不—定要结合CSS) </li>\n<li><strong>CSSTransition</strong><ul>\n<li>在前端开发中，通常使用CSSTransition来完成<strong>过渡</strong>动画效果</li>\n<li>三种状态：<ul>\n<li>第一类：开始状态：对应的类是-appear、-enter、exit;</li>\n<li>第二类：执行动画：对应的类是-appear-active、-enter-active、-exit-active;</li>\n<li>第三类：执行结束：对应的类是-appear-done、-enter-done、-exit-done;</li>\n</ul>\n</li>\n<li>常见对应的属性<ul>\n<li>in:触发进入或者退出状态<ul>\n<li>如果添加了**unmountOnExit&#x3D;{true}**，那么该组件会在执行退出动画结束后被移除掉;</li>\n<li>当<strong>in为true时，触发进入状态</strong>，会添加-enter、-enter-acitve的class开始执行动画，当动画执行结束后，会移除两个class,并且添加-enter-done的class;</li>\n<li>当<strong>in为false时，触发退出状态</strong>，会添加-exit、-exit-active的class开始执行动画，当动画执行结束后，会移除两个class，并且添加-enter-done的class;</li>\n</ul>\n</li>\n<li>classNames：动画class的名称</li>\n<li>timeout：过渡动画的时间</li>\n<li>appear：是否在初次进入添加动画</li>\n<li>unmountOnExit：退出后卸载组件</li>\n</ul>\n</li>\n<li>钩子函数<ul>\n<li>onEnter:在进入动画<strong>之前</strong>被触发;</li>\n<li>onEntering:在应用进入动画<strong>时</strong>被触发;</li>\n<li>onEntered:在应用进入动画<strong>结束后</strong>被触发;</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//style.css</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">why</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">appear</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">why</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">enter </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #FFCB6B\">opacity</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">why</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">appear</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">active</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">why</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">enter</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">active </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #FFCB6B\">opacity</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #FFCB6B\">transition</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">opacity</span><span style=\"color: #F07178\"> 2</span><span style=\"color: #BABED8\">s</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">ease</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">/* 离开动画 */</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">why</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">exit </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #FFCB6B\">opacity</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">why</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">exit</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">active </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #FFCB6B\">opacity</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #FFCB6B\">transition</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">opacity</span><span style=\"color: #F07178\"> 2</span><span style=\"color: #BABED8\">s</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">ease</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//app.jsx</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">class</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">App</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">extends</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">PureComponent</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #C792EA\">constructor</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">props</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #BABED8\">super</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">props</span><span style=\"color: #F07178\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #BABED8\">state</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      isShow</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FF9CAC\">true</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #BABED8\">sectionRef</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">createRef</span><span style=\"color: #F07178\">()</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">render</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">isShow</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #BABED8\">state</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> (</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">button</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">onClick</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8; font-style: italic\">e</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #82AAFF\">setState</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F07178\">isShow</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">!</span><span style=\"color: #BABED8\">isShow </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">&#125;&gt;</span><span style=\"color: #BABED8\">切换</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">button</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #676E95; font-style: italic\">/* &#123; isShow &amp;&amp; &lt;h2&gt;哈哈哈&lt;/h2&gt; &#125; */</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">CSSTransition</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">nodeRef</span><span style=\"color: #89DDFF\">=&#123;this.</span><span style=\"color: #BABED8\">sectionRef</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">in</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8\">isShow</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">unmountOnExit</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #FF9CAC\">true</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">classNames</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">why</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">timeout</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #F78C6C\">2000</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">appear</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">onEnter</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8; font-style: italic\">e</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">开始进入动画</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">onEntering</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8; font-style: italic\">e</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">执行进入动画</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">onEntered</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8; font-style: italic\">e</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">执行进入结束</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">onExit</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8; font-style: italic\">e</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">开始离开动画</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">onExiting</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8; font-style: italic\">e</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">执行离开动画</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          </span><span style=\"color: #C792EA\">onExited</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8; font-style: italic\">e</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">执行离开结束</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">        &gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">          </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">section</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">ref</span><span style=\"color: #89DDFF\">=&#123;this.</span><span style=\"color: #BABED8\">sectionRef</span><span style=\"color: #89DDFF\">&#125;&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">h2</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #BABED8\">哈哈哈</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">h2</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">          </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #FFCB6B\">CSSTransition</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    )</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><ul>\n<li><strong>SwitchTransition</strong><ul>\n<li>两个组件<strong>显示和隐藏</strong>切换时，使用该组件</li>\n<li>SwitchTransition中主要有一个属性:<strong>mode</strong>，有两个值<ul>\n<li><strong>in-out</strong>:表示新组件先进入，旧组件再移除;</li>\n<li><strong>out-in</strong>:表示旧组件先移除，新组件再进入;</li>\n</ul>\n</li>\n<li>SwitchTransition组件里面要有CSSTransition或者Transition组件，不能直接包裹你想要切换的组件;</li>\n<li>SwitchTransition里面的CSSTransition或Transition组件不再像以前那样接受in属性来判断元素是何种状态，取而代之的是key属性;</li>\n</ul>\n</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #82AAFF\">render</span><span style=\"color: #BABED8\">() </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">isLogin</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #BABED8\">state</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> (</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">SwitchTransition</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">mode</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">out-in</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">          </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">CSSTransition</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">            </span><span style=\"color: #C792EA\">key</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8\">isLogin </span><span style=\"color: #89DDFF\">?</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">exit</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">login</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">            </span><span style=\"color: #C792EA\">classNames</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">login</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">            </span><span style=\"color: #C792EA\">timeout</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #F78C6C\">1000</span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">          &gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">button</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">onClick</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8; font-style: italic\">e</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #82AAFF\">setState</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F07178\">isLogin</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">!</span><span style=\"color: #BABED8\">isLogin </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">&#125;&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">              </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> isLogin </span><span style=\"color: #89DDFF\">?</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">退出</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">登录</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">button</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">          </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #FFCB6B\">CSSTransition</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #FFCB6B\">SwitchTransition</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    )</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><ul>\n<li><strong>TransitionGroup</strong><ul>\n<li>将<strong>多个动画组件</strong>包裹在其中，一般用于列表中元素的动画</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #82AAFF\">render</span><span style=\"color: #BABED8\">() </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">books</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #BABED8\">state</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> (</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">h2</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #BABED8\">书籍列表:</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">h2</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">TransitionGroup</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">component</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">ul</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">          </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            books</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">map</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">item</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">index</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> (</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">CSSTransition</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">key</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8\">item</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">id</span><span style=\"color: #89DDFF\">&#125; </span><span style=\"color: #C792EA\">classNames</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">book</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">timeout</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #F78C6C\">1000</span><span style=\"color: #89DDFF\">&#125;&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                  </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">li</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">span</span><span style=\"color: #89DDFF\">&gt;&#123;</span><span style=\"color: #BABED8\">item</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">name</span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">-</span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\">item</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">price</span><span style=\"color: #89DDFF\">&#125;&lt;/</span><span style=\"color: #F07178\">span</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">button</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">onClick</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8; font-style: italic\">e</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #82AAFF\">removeBook</span><span style=\"color: #BABED8\">(index)</span><span style=\"color: #89DDFF\">&#125;&gt;</span><span style=\"color: #BABED8\">删除</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">button</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                  </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">li</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #FFCB6B\">CSSTransition</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              )</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">          </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #FFCB6B\">TransitionGroup</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">button</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">onClick</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8; font-style: italic\">e</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #82AAFF\">addNewBook</span><span style=\"color: #BABED8\">()</span><span style=\"color: #89DDFF\">&#125;&gt;</span><span style=\"color: #BABED8\">添加新书籍</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">button</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    )</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><hr>\n<h2 id=\"React中的CSS\"><a href=\"#React中的CSS\" class=\"headerlink\" title=\"React中的CSS\"></a>React中的CSS</h2><p><strong>内联样式</strong></p>\n<ul>\n<li>style接受一个采用小驼峰命名属性的JavaScript对象，而不是CSS字符串</li>\n<li>内联样式，样式之间不会有冲突；可以动态获取当前state中的状态</li>\n<li>大量样式导致代码混乱，编写时没有提示，写法上需要驼峰标识</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">p</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">style</span><span style=\"color: #89DDFF\">=&#123;&#123;color: \"blue\", fontSize: \"20px\"&#125;&#125;&gt;我是内容, 哈哈哈&lt;/p&gt;</span></span></code></pre></div><p><strong>普通CSS</strong></p>\n<ul>\n<li>编写一个单独的文件，之后再进行引入，最大的问题是会出现样式层叠掉</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//App.css</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">title </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #BABED8\">font</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #FFCB6B\">size</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> 32</span><span style=\"color: #BABED8\">px</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #FFCB6B\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">green</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">content </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #BABED8\">font</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #FFCB6B\">size</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> 22</span><span style=\"color: #BABED8\">px</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #FFCB6B\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">orange</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//App.jsx</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">./App.css</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">h2</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">title</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #BABED8\">我是标题</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">h2</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">p</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">content</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #BABED8\">我是内容, 哈哈哈哈</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">p</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span></code></pre></div><p><strong>css modules</strong></p>\n<ul>\n<li>React的脚手架已经内置了css modules的配置:<ul>\n<li><strong>.css&#x2F;.less&#x2F;.scss</strong>等样式文件都需要修改成**.module.css&#x2F;.module.less&#x2F;.module.scss**等;之后就可以引用并且进行使用了;</li>\n<li>css modules确实解决了<strong>局部作用域</strong>的问题，也是很多人喜欢在React中使用的一种方案。</li>\n</ul>\n</li>\n<li>这种方案也有自己的缺陷:<ul>\n<li>引用的类名，**不能使用连接符(.home-title)**，在JavaScript中是不识别的;</li>\n<li>所有的<strong>className都必须使用{style.className}的形式</strong>来编写;</li>\n<li>不方便<strong>动态来修改某些样式</strong>，依然需要<strong>使用内联样式的方式</strong>;</li>\n</ul>\n</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//App.module.css</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">title </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #BABED8\">font</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #FFCB6B\">size</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> 32</span><span style=\"color: #BABED8\">px</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #FFCB6B\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">green</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">content </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #BABED8\">font</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #FFCB6B\">size</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> 22</span><span style=\"color: #BABED8\">px</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #FFCB6B\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">orange</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//App.jsx</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> appStyle </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">./App.module.css</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">class</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">App</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">extends</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">PureComponent</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">render</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> (</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">h2</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8\">appStyle</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">title</span><span style=\"color: #89DDFF\">&#125;&gt;</span><span style=\"color: #BABED8\">我是标题</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">h2</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">p</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">=&#123;</span><span style=\"color: #BABED8\">appStyle</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">content</span><span style=\"color: #89DDFF\">&#125;&gt;</span><span style=\"color: #BABED8\">我是内容, 哈哈哈哈</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">p</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    )</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><p><strong>CSS in JS</strong></p>\n<ul>\n<li><p>事实上CSS-in-JS的模式就是一种将样式(CSS）也写入到JavaScript中的方式，并且可以方便的使用JavaScript的状态</p>\n</li>\n<li><p>CSS-in-JS通过JavaScript来为CSS赋予一些能力，包括类似于CSS预处理器一样的<strong>样式嵌套、函数定义、逻辑复用、动态修改状态</strong>等等</p>\n</li>\n<li><p>虽然CSS预处理器也具备某些能力，但是获取动态状态依然是一个不好处理的点</p>\n</li>\n<li><p>所以，目前可以说CSS-in-JS是React编写CSS最为受欢迎的一种解决方案</p>\n</li>\n<li><p>目前比较流行的CSS-in-JS的库：</p>\n<ul>\n<li><p><strong>styled-components</strong></p>\n<ul>\n<li>styled-components的本质是通过函数的调用，最终创建出一个组件:这个组件会被自动添加上一个不重复的class；styled-components会给该class添加相关的样式</li>\n<li>它支持类似于CSS预处理器一样的样式嵌套:支持直接子代选择器或后代选择器，并且直接编写样式;可以通过&amp;符号获取当前元素;直接伪类选择器、伪元素等;</li>\n<li>props可以传递，添加attrs属性，……</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> styled </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">styled-components</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #BABED8\">primaryColor</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #BABED8\">largeSize</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">./style/variables</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> SectionWrapper </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> styled</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">div</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">attrs</span><span style=\"color: #BABED8\">(</span><span style=\"color: #BABED8; font-style: italic\">props</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> (</span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">tColor</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> props</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">color </span><span style=\"color: #89DDFF\">||</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">blue</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">))</span><span style=\"color: #89DDFF\">`</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">  border: 1px solid red;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">  .title &#123;</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">    font-size: </span><span style=\"color: #89DDFF\">$&#123;</span><span style=\"color: #BABED8; font-style: italic\">props</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> props</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">size</span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #C3E88D\">px;</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">    color: </span><span style=\"color: #89DDFF\">$&#123;</span><span style=\"color: #BABED8; font-style: italic\">props</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> props</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">tColor</span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #C3E88D\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">    &amp;:hover &#123;</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">      background-color: purple;</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">    &#125;</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">  &#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">  .content &#123;</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">    font-size: </span><span style=\"color: #89DDFF\">$&#123;</span><span style=\"color: #BABED8\">largeSize</span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #C3E88D\">px;</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">    color: </span><span style=\"color: #89DDFF\">$&#123;</span><span style=\"color: #BABED8\">primaryColor</span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #C3E88D\">;</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">  &#125;</span></span>\n<span class=\"line\"></span></code></pre></div><p><img src=\"https://i-blog.csdnimg.cn/blog_migrate/22883391a8d4ef2abc0d1c6f7ce7cfee.png#pic_center\"></p>\n</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://i-blog.csdnimg.cn/blog_migrate/3fa7c5eca5f814ce28de611a46d0d016.png#pic_center\"></p>\n<p>​    </p>\n<ul>\n<li><p>emotion</p>\n</li>\n<li><p>glamorous</p>\n</li>\n</ul>\n<p><strong>ES6标签模板字符串</strong></p>\n<ul>\n<li>正常情况下，我们都是通过 <strong>函数名()</strong> 方式来进行调用的，其实函数还有另外—种调用方式</li>\n<li>如果我们在调用的时候插入其他的变量:<ul>\n<li>模板字符串被拆分了;</li>\n<li>第一个元素是数组，是被模块字符串拆分的字符串组合;</li>\n<li>后面的元素是—个个模块空符串传入的内容:</li>\n</ul>\n</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">// 标签模板字符串的使用</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">function</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">foo</span><span style=\"color: #89DDFF\">(...</span><span style=\"color: #BABED8; font-style: italic\">args</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #BABED8\">console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">args</span><span style=\"color: #F07178\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">foo</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">why</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">18</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">1.88</span><span style=\"color: #BABED8\">)</span></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">foo</span><span style=\"color: #89DDFF\">`</span><span style=\"color: #C3E88D\">my name is </span><span style=\"color: #89DDFF\">$&#123;</span><span style=\"color: #BABED8\">name</span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #C3E88D\">, age is </span><span style=\"color: #89DDFF\">$&#123;</span><span style=\"color: #BABED8\">age</span><span style=\"color: #89DDFF\">&#125;`</span><span style=\"color: #676E95; font-style: italic\">//&#39;my name is &#39;,&#39;, age is &#39;,&#39;&#39;,</span></span></code></pre></div><p><strong>classnames</strong></p>\n<ul>\n<li>用于动态添加classnames的一个库</li>\n</ul>\n<p><img src=\"https://i-blog.csdnimg.cn/blog_migrate/ccf9007d548bd9a30b8d0422829251c0.png#pic_center\"></p>\n<hr>\n<h2 id=\"Redux使用详解\"><a href=\"#Redux使用详解\" class=\"headerlink\" title=\"Redux使用详解\"></a>Redux使用详解</h2><p><strong>纯函数</strong></p>\n<ul>\n<li>纯函数的维基百科定义:在程序设计中，若一个函数符合以下条件，那么这个函数被称为纯函数:<ul>\n<li>此函数在相同的输入值时，需产生相同的输出</li>\n<li>函数的输出和输入值以外的其他隐藏信息或状态无关，也和由I&#x2F;O设备产生的外部输出无关</li>\n<li>该函数不能有语义上可观察的函数副作用，诸如“触发事件”，使输出设备输出，或更改输出值以外物件的内容等</li>\n</ul>\n</li>\n<li><strong>总结：确定的输入，一定会产生确定的输出；函数在执行过程中，不能产生副作用</strong></li>\n<li>在计算机科学中，也引用了<strong>副作用</strong>的概念，表示在执行一个函数时，除了返回函数值之外，还对调用函数<strong>产生了附加的影响</strong>，比如修改了全局变量，修改参数或者改变外部的存储;副作用是产生bug的“温床”</li>\n<li>举例：<ul>\n<li>slice: slice截取数组时不会对原数组进行任何操作,而是生成一个新的数组**(纯函数)**</li>\n<li>splice: splice截取数组,会返回一个新的数组,也会对原数组进行修改**(非纯函数)**</li>\n</ul>\n</li>\n<li><strong>所有 React组件都必须像纯函数一样保护它们的props不被更改</strong></li>\n</ul>\n<p><strong>redux的必要性</strong></p>\n<ul>\n<li>JavaScript需要管理的<strong>状态越来越多，越来越复杂</strong>；状态之间<strong>相互会存在依赖</strong>，一个状态的改变会引起另一个状态的变化；当应用程序复杂时，state在什么时候，因为什么原因而发生了变化，发生了怎样的变化，会变得非常<strong>难以控制和追踪</strong></li>\n<li>Redux就是一个帮助我们管理 State 的容器： Redux 是 <strong>JavaScript 的状态容器</strong> ，提供了<strong>可预测的状态管理</strong></li>\n</ul>\n<p><strong>redux的核心理念</strong></p>\n<ul>\n<li>Store – 存储数据</li>\n<li>action – 派发(dispatch)action来更新数据<ul>\n<li>action是一个普通的 JavaScript 对象 ，用来描述这次 更新的 type 和 content</li>\n</ul>\n</li>\n<li>reducer – 将传入的state和action结合生成一个新的state</li>\n<li>三大原则：<ul>\n<li><strong>单一数据源</strong><ul>\n<li>整个应用程序的state被存储在一颗object tree中，并且这个object tree只存储在一个store中</li>\n<li>Redux并没有强制让我们不能创建多个Store，但是那样做并不利于数据的维护</li>\n<li>单一的数据源可以让整个应用程序的state变得方便维护、追踪、修改;</li>\n</ul>\n</li>\n<li><strong>State是只读的</strong><ul>\n<li>唯一修改State的方法一定是触发action，不要试图在其他地方通过任何的方式来修改State</li>\n<li>这样就确保了View或网络请求都不能直接修改state，它们只能通过action来描述自己想要如何修改state</li>\n<li>这样可以保证所有的修改都被集中化处理，并且按照严格的顺序来执行，所以不需要担心race condition(竟态)的问题</li>\n</ul>\n</li>\n<li><strong>使用纯函数来执行修改</strong><ul>\n<li>通过reducer将旧state和actions联系在一起，并且返回一个新的State</li>\n<li>随着应用程序的复杂度增加，我们可以将reducer拆分成多个小的reducers，分别操作不同state tree的一部分</li>\n<li>但是所有的reducer都应该是纯函数，不能产生任何的副作用;</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://i-blog.csdnimg.cn/blog_migrate/9fee3ee73ef182375c95110a16c2d6f1.png#pic_center\"></p>\n<p><img src=\"https://i-blog.csdnimg.cn/blog_migrate/00f259ffa58c06b71c8393e9d54a939b.png#pic_center\"></p>\n<p><strong>react-redux</strong></p>\n<ul>\n<li>redux官方帮助我们提供了react-redux 的库，可以直接在项目中使用，并且实现的逻辑会更加的严谨和高效</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">// 具体页面 -- 映射</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">connect</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">react-redux</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> mapStateToProps </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">state</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> (</span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">counter</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> state</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">counter</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">counter</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> mapDispatchToProps </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">dispatch</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> (</span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">addNumber</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">num</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">dispatch</span><span style=\"color: #F07178\">(</span><span style=\"color: #82AAFF\">addNumberAction</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">num</span><span style=\"color: #F07178\">))</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">subNumber</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">num</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">dispatch</span><span style=\"color: #F07178\">(</span><span style=\"color: #82AAFF\">subNumberAction</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">num</span><span style=\"color: #F07178\">))</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF; font-style: italic\">default</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">connect</span><span style=\"color: #BABED8\">(mapStateToProps</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> mapDispatchToProps )(Category)</span></span></code></pre></div><ul>\n<li>网络请求可以在class组件的componentDidMount中发送，所以我们可以有这样的结构</li>\n</ul>\n<p><img src=\"https://i-blog.csdnimg.cn/blog_migrate/9e011e9dfb1035bbe9f8d72107f7a863.png#pic_center\"></p>\n<ul>\n<li>redux进行异步的操作可以使用<strong>中间件</strong>；中间件可以帮助我们在请求和响应之间嵌入一些操作的代码</li>\n</ul>\n<p><img src=\"https://i-blog.csdnimg.cn/blog_migrate/ebf053934ec6e3c1c0a1739da040e26d.png#pic_center\"></p>\n<ul>\n<li>redux引入了中间件(Middleware)的概念:这个中间件的目的是<strong>在dispatch的action和最终达到的reducer之间，扩展一些自己的代码</strong>;比如日志记录、调用异步接口、添加代码调试功能等等</li>\n<li>官网推荐的、包括演示的网络请求的中间件是使用<strong>redux-thunk</strong></li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//1、安装 yarn add redux-thunk</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//store.js</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">createStore</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">applyMiddleware</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">compose</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">redux</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> thunk </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">redux-thunk</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> reducer </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">./reducer</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">// 先安装redux-devtools，再继承</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> composeEnhancers </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> window</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">__REDUX_DEVTOOLS_EXTENSION_COMPOSE__</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #F07178\">trace</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FF9CAC\">true</span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">) </span><span style=\"color: #89DDFF\">||</span><span style=\"color: #BABED8\"> compose</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//2、在创建store时传入应用了middleware的enhance函数</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> store </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">createStore</span><span style=\"color: #BABED8\">(reducer</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">composeEnhancers</span><span style=\"color: #BABED8\">(</span><span style=\"color: #82AAFF\">applyMiddleware</span><span style=\"color: #BABED8\">(thunk)))</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF; font-style: italic\">default</span><span style=\"color: #BABED8\"> store</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//3、定义返回一个函数的action</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//actionCreators.js</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> fetchHomeMultidataAction </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">()</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">// 如果是一个普通的action, 那么我们这里需要返回action对象</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">// 问题: 对象中是不能直接拿到从服务器请求的异步数据的</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">function</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">dispatch</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8; font-style: italic\">getState</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">// 异步操作: 网络请求</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #BABED8\">axios</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">get</span><span style=\"color: #F07178\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">http://123.207.32.32:8000/home/multidata</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #F07178\">)</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">then</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8; font-style: italic\">res</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">banners</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">res</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">banner</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">list</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">recommends</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">res</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">recommend</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">list</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #82AAFF\">dispatch</span><span style=\"color: #F07178\">(</span><span style=\"color: #82AAFF\">changeBannersAction</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">banners</span><span style=\"color: #F07178\">))</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #82AAFF\">dispatch</span><span style=\"color: #F07178\">(</span><span style=\"color: #82AAFF\">changeRecommendsAction</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">recommends</span><span style=\"color: #F07178\">))</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #F07178\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><ul>\n<li>Reducer进行代码拆分，文件拆分后，可以通过<strong>combineReducers函数</strong>可以方便的让我们对多个reduce进行合并</li>\n<li><strong>combineReducers实现原理：</strong><ul>\n<li><strong>将我们传入的reducers合并到一个对象中，最终返回一个combination的函数（相当于之前的reducer函数)</strong></li>\n<li><strong>在执行combination函数的过程中，它会通过判断前后返回的数据是否相同来决定返回之前的state还是新的state</strong></li>\n<li><strong>新的state会触发订阅者发生对应的刷新，而旧的state可以有效的组织订阅者发生刷新</strong></li>\n</ul>\n</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">createStore</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">applyMiddleware</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">compose</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">combineReducers</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">redux</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> thunk </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">redux-thunk</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> counterReducer </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">./counter</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> homeReducer </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">./home</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> userReducer </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">./user</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">// 将两个reducer合并在一起</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> reducer </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">combineReducers</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">counter</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> counterReducer</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">home</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> homeReducer</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">user</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> userReducer</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span></span></code></pre></div><hr>\n<h2 id=\"ReduxToolkit\"><a href=\"#ReduxToolkit\" class=\"headerlink\" title=\"ReduxToolkit\"></a>ReduxToolkit</h2><p><strong>ReduxToolkit概念</strong></p>\n<ul>\n<li>安装Redux Toolkit:<ul>\n<li><code>npm install @reduxjs/toolkit react-redux</code></li>\n</ul>\n</li>\n<li>Redux Toolkit的核心API主要是如下几个:<ul>\n<li><strong>configureStore</strong>:包装createStore以提供简化的配置选项和良好的默认值。它可以自动组合你的slice reducer，添加你提供的任何Redux中间件,redux-thunk默认包含，并启用Redux DevTools Extension.<ul>\n<li>reducer，将slice中的reducer可以组成一个对象传入此处;</li>\n<li>middleware:可以使用参数，传入其他的中间件（自行了解);devTools:是否配置</li>\n<li>devTools工具，默认为true;</li>\n</ul>\n</li>\n<li><strong>createSlice</strong>:接受reducer函数的对象、切片名称和初始状态值，并自动生成切片reducer，并带有相应的actions。</li>\n<li><strong>createAsyncThunk</strong>: 接受一个动作类型字符串和一个返回承诺的函数，并生成一个pending&#x2F;fulfilled&#x2F;rejected基于该承诺分派动作类型的thunk<ul>\n<li>pending : action被发出，但是还没有最终的结果</li>\n<li>fulfilled:获取到最终的结果（有返回值的结果)</li>\n<li>rejected:执行过程中有错误或者抛出了异常</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//counter.js</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">createSlice</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">@reduxjs/toolkit</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//createSlice返回值是一个对象，包含所有的actions</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> counterSlice </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> createSlice</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">createSlice返回值是一个对象，</span><span style=\"color: #82AAFF\">包含所有的actions</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//用户标记slice的名词</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">name</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">counter</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//初始化值</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">initialState</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">counter</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">888</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//相当于reducer函数</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">reducers</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">addNumber</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">state</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">payload</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#125;)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #BABED8\">state</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">counter</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">state</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">counter</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">+</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">payload</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">subNumber</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">state</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">payload</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#125;)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #BABED8\">state</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">counter</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">state</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">counter</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">-</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">payload</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> addNumber</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> subNumber </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> counterSlice</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">actions</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF; font-style: italic\">default</span><span style=\"color: #BABED8\"> counterSlice</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">reducer</span></span></code></pre></div><div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//home.js</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">createSlice</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">createAsyncThunk</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">@reduxjs/toolkit</span><span style=\"color: #89DDFF\">&#39;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> axios </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">axios</span><span style=\"color: #89DDFF\">&#39;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> fetchHomeMultidataAction </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">createAsyncThunk</span><span style=\"color: #BABED8\">(</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">fetch/homemultidata</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #C792EA\">async</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">extraInfo</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">dispatch</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">getState</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#125;)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">// console.log(extraInfo, dispatch, getState)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">// 1.发送网络请求, 获取数据</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">res</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF; font-style: italic\">await</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">axios</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">get</span><span style=\"color: #F07178\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">http://123.207.32.32:8000/home/multidata</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #F07178\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">// 2.取出数据, 并且在此处直接dispatch操作(可以不做)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">banners</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">res</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">banner</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">list</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">recommends</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">res</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">recommend</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">list</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">dispatch</span><span style=\"color: #F07178\">(</span><span style=\"color: #82AAFF\">changeBanners</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">banners</span><span style=\"color: #F07178\">))</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">dispatch</span><span style=\"color: #F07178\">(</span><span style=\"color: #82AAFF\">changeRecommends</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">recommends</span><span style=\"color: #F07178\">))</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">// 3.返回结果, 那么action状态会变成fulfilled状态</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">res</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">data</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> homeSlice </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">createSlice</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">name</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">home</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">initialState</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">banners</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> []</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">recommends</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> []</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #F07178\">reducers</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">changeBanners</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">state</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">payload</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#125;)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #BABED8\">state</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">banners</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">payload</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">changeRecommends</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">state</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">payload</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#125;)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #BABED8\">state</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">recommends</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">payload</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//写法1</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">// extraReducers: &#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//   [fetchHomeMultidataAction.pending](state, action) &#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//     console.log(&quot;fetchHomeMultidataAction pending&quot;)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//   &#125;,</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//   [fetchHomeMultidataAction.fulfilled](state, &#123; payload &#125;) &#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//     state.banners = payload.data.banner.list</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//     state.recommends = payload.data.recommend.list</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//   &#125;,</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//   [fetchHomeMultidataAction.rejected](state, action) &#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//     console.log(&quot;fetchHomeMultidataAction rejected&quot;)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//   &#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">// &#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">//写法2</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #82AAFF\">extraReducers</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">builder</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">// builder.addCase(fetchHomeMultidataAction.pending, (state, action) =&gt; &#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">//   console.log(&quot;fetchHomeMultidataAction pending&quot;)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">// &#125;).addCase(fetchHomeMultidataAction.fulfilled, (state, &#123; payload &#125;) =&gt; &#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">//   state.banners = payload.data.banner.list</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">//   state.recommends = payload.data.recommend.list</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">// &#125;)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> changeBanners</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> changeRecommends </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> homeSlice</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">actions</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">export</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF; font-style: italic\">default</span><span style=\"color: #BABED8\"> homeSlice</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">reducer</span></span></code></pre></div><ul>\n<li>Redux Toolkit底层使用了<strong>immerjs</strong>的一个库来保证<strong>数据的不可变性</strong></li>\n<li><a href=\"https://mp.weixin.qq.com/s/hfeCDCcodBCGS5GpedxCGg\">https://mp.weixin.qq.com/s/hfeCDCcodBCGS5GpedxCGg</a></li>\n<li>为了节约内存，又出现了一个新的算法:Persistent Data Structure(持久化数据结构或一致性数据结构);<ul>\n<li>用一种数据结构来保存数据;</li>\n<li>当数据被修改时，会返回一个对象，但是新的对象会尽可能的利用之前的数据结构而不会对内存造成浪费;</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"ReactRouter\"><a href=\"#ReactRouter\" class=\"headerlink\" title=\"ReactRouter\"></a>ReactRouter</h2><ul>\n<li><p>事实上，路由器主要维护的是一个映射表，映射表会决定数据的流向</p>\n</li>\n<li><p><strong>hash</strong>模式兼容性好，在老版IE中都可以运行，但是缺陷是包含一个#，显得不像一个真实的路径</p>\n</li>\n<li><p><strong>history</strong>接口是H5新增的，兼容性一般，但是看起来更加美观，有6种模式改变URL而不刷新页面</p>\n</li>\n<li><p>安装React Router：<code>npm install react-router-dom</code>；提供了相关组件BrowserRouter&#x2F;HashRouter</p>\n<ul>\n<li>Router中包含了对路径改变的监听，并且会将相应的路径传递给子组件</li>\n<li>BrowserRouter使用history模式</li>\n<li>HashRouter使用hash模式</li>\n</ul>\n</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> root </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> ReactDOM</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">createRoot</span><span style=\"color: #BABED8\">(document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">querySelector</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">#root</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">))</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">root</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">render</span><span style=\"color: #BABED8\">(</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">StrictMode</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">HashRouter</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">Suspense</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">fallback</span><span style=\"color: #89DDFF\">=&#123;&lt;</span><span style=\"color: #F07178\">h3</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #BABED8\">Loading...</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">h3</span><span style=\"color: #89DDFF\">&gt;&#125;&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">App</span><span style=\"color: #89DDFF\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #FFCB6B\">Suspense</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #FFCB6B\">HashRouter</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #FFCB6B\">StrictMode</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">)</span></span>\n<span class=\"line\"></span></code></pre></div><p><strong>路由映射配置</strong></p>\n<ul>\n<li>**Routes:**包裹所有的Route，在其中匹配一个路由</li>\n<li><strong>Route:</strong> Route用于路径的匹配;<ul>\n<li>path属性:用于设置匹配到的路径</li>\n<li>element属性:设置匹配到路径后，渲染的组件</li>\n<li>exact:精准匹配，只有精准匹配到完全一致的路径，才会渲染对应的组件</li>\n</ul>\n</li>\n</ul>\n<p><strong>路由配置和跳转</strong></p>\n<ul>\n<li>Link和NavLink</li>\n<li>通常路径的跳转是使用Link组件，最终会被渲染成a元素；NavLink是在Link基础之上增加了一些样式属性</li>\n<li>to属性:Link中最重要的属性，用于设置跳转到的路径</li>\n</ul>\n<p><strong>Navigate导航</strong></p>\n<ul>\n<li>Navigate用于路由的重定向，当这个组件出现时，就会执行跳转到对应的 to 路径中</li>\n</ul>\n<p><strong>Not Found页面</strong></p>\n<ul>\n<li>如果用户随意输入一个地址，该地址无法匹配，那么在路由匹配的位置将什么内容都不显示。</li>\n<li>很多时候，我们希望在这种情况下，让用户看到一个Not Found的页面。</li>\n<li>这个过程非常简单:<ul>\n<li>开发一个Not Found页面;</li>\n<li>配置对应的Route，并且设置path为*即可;</li>\n</ul>\n</li>\n</ul>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> About </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> React</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">lazy</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">import</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">../pages/About</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">))</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> Login </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> React</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">lazy</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">import</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">../pages/Login</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">))</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> routes </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> [</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">path</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">/</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">element</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">Navigate</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">to</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">/home</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">path</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">/home</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">element</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">Home</span><span style=\"color: #89DDFF\">/&gt;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">children</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> [</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #F07178\">path</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">/home</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #F07178\">element</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">Navigate</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">to</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">/home/recommend</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #F07178\">path</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">/home/recommend</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #F07178\">element</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">HomeRecommend</span><span style=\"color: #89DDFF\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    ]</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">path</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">/about</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">element</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">About</span><span style=\"color: #89DDFF\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">path</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">/login</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">element</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">Login</span><span style=\"color: #89DDFF\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">path</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">*</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #F07178\">element</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #FFCB6B\">NotFound</span><span style=\"color: #89DDFF\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">]</span></span></code></pre></div><p><strong>路由参数传递</strong></p>\n<ul>\n<li>动态路由的方式</li>\n<li>search的方式</li>\n</ul>\n<p><strong>路由的配置文件</strong></p>\n<ul>\n<li><p>我们希望将所有的路由配置放到一个地方进行集中管理:</p>\n<ul>\n<li>在早期的时候，Router并且没有提供相关的API，我们需要借助于react-router-config完成</li>\n<li>在Router6.x中，为我们提供了useRoutes API可以完成相关的配置</li>\n</ul>\n</li>\n<li><p>如果对某些组件进行了异步加载（懒加载)，那么需要使用Suspense进行包裹</p>\n</li>\n</ul>\n","feature":false,"text":"React是由Facebook开发的一款JavaScript库，用于构建用户界面。它采用组件化的方式进行开发，支持虚拟DOM技术，能够有效提高页面渲染性能。React具有易于学习、灵活、高效等特点，被广泛应用于Web应用和移动应用的开发中。本文对React的动画、状态与路由进行了简要概括。...","permalink":"/post/React快速入门（三）动画、状态与路由","photos":[],"count_time":{"symbolsCount":"17k","symbolsTime":"15 mins."},"categories":[{"name":"前端","slug":"前端","count":52,"path":"api/categories/前端.json"}],"tags":[{"name":"react","slug":"react","count":4,"path":"api/tags/react.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#React%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%89%EF%BC%89%E5%8A%A8%E7%94%BB%E3%80%81%E7%8A%B6%E6%80%81%E4%B8%8E%E8%B7%AF%E7%94%B1\"><span class=\"toc-text\">React快速入门（三）动画、状态与路由</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#React%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB\"><span class=\"toc-text\">React过渡动画</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#React%E4%B8%AD%E7%9A%84CSS\"><span class=\"toc-text\">React中的CSS</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Redux%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3\"><span class=\"toc-text\">Redux使用详解</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ReduxToolkit\"><span class=\"toc-text\">ReduxToolkit</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ReactRouter\"><span class=\"toc-text\">ReactRouter</span></a></li></ol></li></ol>","author":{"name":"会思想的苇草i","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"日拱一卒，功不唐捐 <br/> With each day's arduous effort,<br/>no achievement shall be in vain","socials":{"github":"https://github.com/Thinkingreedi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/ASHIYI66","juejin":"https://juejin.cn/user/4284166567110935","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"React快速入门（四）ReactHooks","uid":"94f97ab699adb2aaa1406546b0a18779","slug":"React快速入门（四）ReactHooks","date":"2025-12-02T15:06:00.000Z","updated":"2025-12-02T15:07:18.424Z","comments":true,"path":"api/articles/React快速入门（四）ReactHooks.json","keywords":"web前端开发,web前端博客,个人博客,html,css,javascript,vue,react","cover":"https://i-blog.csdnimg.cn/blog_migrate/cover/7ae60f2846f83a4bd4333f2e9b649239.jpeg","text":"React是由Facebook开发的一款JavaScript库，用于构建用户界面。它采用组件化的方式进行开发，支持虚拟DOM技术，能够有效提高页面渲染性能。React具有易于学习、灵活、高效等特点，被广泛应用于Web应用和移动应用的开发中。本文对React的hooks进行了概括说明。...","permalink":"/post/React快速入门（四）ReactHooks","photos":[],"count_time":{"symbolsCount":"17k","symbolsTime":"15 mins."},"categories":[{"name":"前端","slug":"前端","count":52,"path":"api/categories/前端.json"}],"tags":[{"name":"react","slug":"react","count":4,"path":"api/tags/react.json"}],"author":{"name":"会思想的苇草i","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"日拱一卒，功不唐捐 <br/> With each day's arduous effort,<br/>no achievement shall be in vain","socials":{"github":"https://github.com/Thinkingreedi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/ASHIYI66","juejin":"https://juejin.cn/user/4284166567110935","customs":{}}},"feature":false},"next_post":{"title":"React快速入门（二）组件与函数","uid":"d5a9f70714aaf222e75dd6bd27d5f81a","slug":"React快速入门（二）组件与函数","date":"2025-12-02T15:00:00.000Z","updated":"2025-12-02T15:07:18.424Z","comments":true,"path":"api/articles/React快速入门（二）组件与函数.json","keywords":"web前端开发,web前端博客,个人博客,html,css,javascript,vue,react","cover":"https://i-blog.csdnimg.cn/blog_migrate/cover/7ae60f2846f83a4bd4333f2e9b649239.jpeg","text":"React是由Facebook开发的一款JavaScript库，用于构建用户界面。它采用组件化的方式进行开发，支持虚拟DOM技术，能够有效提高页面渲染性能。React具有易于学习、灵活、高效等特点，被广泛应用于Web应用和移动应用的开发中。本文对React的组件与函数进行了简要概括。...","permalink":"/post/React快速入门（二）组件与函数","photos":[],"count_time":{"symbolsCount":"17k","symbolsTime":"16 mins."},"categories":[{"name":"前端","slug":"前端","count":52,"path":"api/categories/前端.json"}],"tags":[{"name":"react","slug":"react","count":4,"path":"api/tags/react.json"}],"author":{"name":"会思想的苇草i","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"日拱一卒，功不唐捐 <br/> With each day's arduous effort,<br/>no achievement shall be in vain","socials":{"github":"https://github.com/Thinkingreedi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/ASHIYI66","juejin":"https://juejin.cn/user/4284166567110935","customs":{}}},"feature":false}}