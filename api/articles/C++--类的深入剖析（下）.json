{"title":"C++--类的深入剖析(下)","uid":"168349b15cc8fc12508a6c4a439d5818","slug":"C++--类的深入剖析（下）","date":"2021-04-22T02:58:09.000Z","updated":"2025-07-14T15:12:20.457Z","comments":true,"path":"api/articles/C++--类的深入剖析（下）.json","keywords":"web前端开发,web前端博客,个人博客,html,css,javascript,vue,react","cover":"https://img-blog.csdnimg.cn/506e6842fd8542408c76ef139e90ebd3.png","content":"<h2 id=\"0-const对象和const成员函数\"><a href=\"#0-const对象和const成员函数\" class=\"headerlink\" title=\"0.const对象和const成员函数\"></a>0.const对象和const成员函数</h2><ul>\n<li>程序员可以使用关键字const来指定对象是不可修改的，这样任何试图修改该对象的操作都将导致编译错误。下面的代码块：</li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">noon</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #BABED8\">，</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span></code></pre></div><ul>\n<li>即声明了一个Time类的const对象noon，并且将它初始化为中午12点。对于const对象C++编译器不允许进行成员函数的调用，除非成员函数本身也声明为const。<strong>对于构造函数和析构函数是不可以进行const声明的，必须允许构造函数修改对象</strong></li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Time.h</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#ifndef</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">TIME_H</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">TIME_H</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">class</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">Time</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">public</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #82AAFF\">Time</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">setTime</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">setHour</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">setMinute</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">setSecond</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">getHour</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">getMinute</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">getSecond</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">printUniversal</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">printStandard</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">private</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> hour</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> minute</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> second</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#endif</span></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Time.cpp</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iomanip</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">setfill</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">setw</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Time.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">Time</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> hr</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> min</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> sec</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">setTime</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">hr</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">min</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">sec</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">setTime</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">h</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">m</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">s</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #82AAFF\">setHour</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">h</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #82AAFF\">setMinute</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #82AAFF\">setSecond</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">setHour</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">h</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    hour </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">h</span><span style=\"color: #89DDFF\">&gt;=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">&amp;&amp;</span><span style=\"color: #BABED8\">h</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F78C6C\">24</span><span style=\"color: #89DDFF\">)?</span><span style=\"color: #BABED8\">h</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">\t</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">setMinute</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">m</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    minute </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">&gt;=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">&amp;&amp;</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F78C6C\">60</span><span style=\"color: #89DDFF\">)?</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">\t</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">setSecond</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">s</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    second </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">&gt;=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">&amp;&amp;</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F78C6C\">60</span><span style=\"color: #89DDFF\">)?</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">\t</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getHour</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> hour</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getMinute</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> minute</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getSecond</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> second</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">printUniversal</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #82AAFF\">setfill</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">0</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #82AAFF\">setw</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #BABED8\">hour</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">:</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #82AAFF\">setw</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #BABED8\">minute</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #82AAFF\">setw</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #BABED8\">second</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">printStandard</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;((</span><span style=\"color: #BABED8\">hour</span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">||</span><span style=\"color: #BABED8\">hour</span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">)?</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\">hour</span><span style=\"color: #89DDFF\">%</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">:</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #82AAFF\">setfill</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">0</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #82AAFF\">setw</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #BABED8\">minute</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #82AAFF\">setw</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">second</span><span style=\"color: #89DDFF\">&lt;&lt;(</span><span style=\"color: #BABED8\">hour</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">?</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">AM</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">PM</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//TimeTest.cpp</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Time.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">void</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    Time </span><span style=\"color: #82AAFF\">wakeUp</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">6.45</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> Time </span><span style=\"color: #82AAFF\">noon</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    wakeUp</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">setHour</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">18</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">    //noon.setHour(12);const对象调用非const成员函数 -error </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    wakeUp</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">getHour</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    noon</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">getHour</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    wakeUp</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">printUniversal</span><span style=\"color: #89DDFF\">();</span><span style=\"color: #676E95; font-style: italic\">//非const对象调用const成员函数</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    wakeUp</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">printStandard</span><span style=\"color: #89DDFF\">();</span><span style=\"color: #676E95; font-style: italic\">//非const对象调用非const成员函数</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    noon</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">printUniversal</span><span style=\"color: #89DDFF\">();</span><span style=\"color: #676E95; font-style: italic\">//const对象调用const成员函数</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">    //noon.printStandard();const对象调用非const成员函数 -error </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><h2 id=\"1-用成员初始化器来初始化\"><a href=\"#1-用成员初始化器来初始化\" class=\"headerlink\" title=\"1.用成员初始化器来初始化\"></a>1.用成员初始化器来初始化</h2><ul>\n<li><strong>所有的数据成员均可以用成员初始化器形式进行初始化，但是const数据成员和引用的数据成员必须使用成员初始化器进行初始化</strong>。成员初始化器用法如下：</li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Demo.h</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#ifndef</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">DEMO_H</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">DEMO_H</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">class</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">Demo</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">public</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #82AAFF\">Demo</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8; font-style: italic\">c</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8; font-style: italic\">i</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">addDemo</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">            count </span><span style=\"color: #89DDFF\">+=</span><span style=\"color: #F07178\"> demo</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">private</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> count</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> demo</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#endif</span></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Demo.cpp</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Demo.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Demo</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">Demo</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> c</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> i</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    :</span><span style=\"color: #82AAFF\">count</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">c</span><span style=\"color: #89DDFF\">),</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">     </span><span style=\"color: #82AAFF\">demo</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Demo</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">count = </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">count</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">, demo = </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">demo</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//DemoTest.cpp</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Demo.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">void</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    Demo </span><span style=\"color: #82AAFF\">value</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">10</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">5</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">before </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    value</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> j</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">j</span><span style=\"color: #89DDFF\">&lt;=</span><span style=\"color: #F78C6C\">3</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #BABED8\">j</span><span style=\"color: #89DDFF\">++)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #BABED8\">value</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">addDemo</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">after </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\">j</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #BABED8\">value</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">();</span><span style=\"color: #F07178\"> </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><ul>\n<li>构造函数的定义使用了一个成员初始化器列表来初始化demo类的数据成员–非const整数count和const整数demo。成员初始化器出现在构造函数的参数列表和作为构造函数体开始的左花括号之间。多个成员初始化器之间用逗号隔开。<strong>不可以用赋值初始化const数据成员。</strong></li>\n</ul>\n<h2 id=\"2-组成：对象作为类的成员\"><a href=\"#2-组成：对象作为类的成员\" class=\"headerlink\" title=\"2.组成：对象作为类的成员\"></a>2.组成：对象作为类的成员</h2><ul>\n<li>一个类可以将其他类的对象作为其成员，这种功能称为组成。</li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Date.h</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #676E95; font-style: italic\">//Employee.h头文件中包含Date.h</span></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Employee.h</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #676E95; font-style: italic\">//程序中同时包含Employee.h和Date.h头文件</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Date.h</span><span style=\"color: #89DDFF\">&quot;</span></span></code></pre></div><h2 id=\"3-friend函数和friend类\"><a href=\"#3-friend函数和friend类\" class=\"headerlink\" title=\"3.friend函数和friend类\"></a>3.friend函数和friend类</h2><ul>\n<li>类的friend函数在类的作用域以外定义，却具有访问类的非public成员的权限。单独的函数或整个类都可以被声明为另一个类的友元。在类定义中函数原型前加保留字friend，就将函数声明为该类的友元。<strong>使用非friend函数修改private成员是错误的尝试</strong></li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">class</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">Count</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">friend</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">setX</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FFCB6B\">Count</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">&amp;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span><span style=\"color: #676E95; font-style: italic\">//友元声明 </span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">public</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">Count</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">:</span><span style=\"color: #82AAFF\">x</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\">x</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">private</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> x</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#125;;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\"> </span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">setX</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FFCB6B\">Count</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">&amp;</span><span style=\"color: #BABED8; font-style: italic\">c</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">val</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    c</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\">val</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">void</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    Count counter</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">counter.x after instantiation: </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    counter</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #82AAFF\">setX</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">counter</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">8</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">counter.x after call to setX firend function: </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    counter</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><h2 id=\"4-this指针\"><a href=\"#4-this指针\" class=\"headerlink\" title=\"4.this指针\"></a>4.this指针</h2><ul>\n<li>对象的成员函数可以操作对象的数据，是因为每个对象有一个this指针来访问自己的地址。对象的this指针不是对象本身的一部分–也就是说，this指针占用的内存大小不会反映再对对象进行sizeof运算得到的结果中。对象可以隐式或者显示的使用this指针来引用它们的数据成员和成员函数。this指针的类型取决于对象的类型以及使用this的成员函数是否被声明为const。（A * const 为一个指向非const对象的const指针，const A *const为指向一个const A对象的const指针）</li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">class</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">Test</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">public</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #82AAFF\">Test</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span><span style=\"color: #676E95; font-style: italic\">//构造函数 </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">private</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> x</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;;</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Test</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">Test</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> value</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #676E95; font-style: italic\">//成员初始化器 </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    :</span><span style=\"color: #82AAFF\">x</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">value</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Test</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">          x = </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #676E95; font-style: italic\">//隐式调用 </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">    this-&gt;x = </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;this-&gt;</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #676E95; font-style: italic\">//显式调用 </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">  (*this).x = </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;(*this).</span><span style=\"color: #BABED8\">x</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #676E95; font-style: italic\">//显式调用 </span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">void</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    Test </span><span style=\"color: #82AAFF\">test</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">666</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    test</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span></code></pre></div><ul>\n<li>使用this指针使串联的函数调用成为可能。</li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Time.h</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#ifndef</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">TIME_H</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">TIME_H</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">class</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">Time</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">public</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">Time</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">&amp;</span><span style=\"color: #82AAFF\">setTime</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">&amp;</span><span style=\"color: #82AAFF\">setHour</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">&amp;</span><span style=\"color: #82AAFF\">setMinute</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">&amp;</span><span style=\"color: #82AAFF\">setSecond</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">getHour</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">getMinute</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">getSecond</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">printUniversal</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">printStandard</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">private</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> hour</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> minute</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> second</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #F07178\"> </span></span>\n<span class=\"line\"><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#125;;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#endif</span></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Time.cpp</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iomanip</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">setfill</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">setw</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Time.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">Time</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> hr</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> min</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> sec</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">setTime</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">hr</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">min</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">sec</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">&amp;</span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">setTime</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">h</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">m</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">s</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #82AAFF\">setHour</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">h</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #82AAFF\">setMinute</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #82AAFF\">setSecond</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">*this;</span><span style=\"color: #676E95; font-style: italic\">//返回Time类型</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">&amp;</span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">setHour</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">h</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    hour </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">h</span><span style=\"color: #89DDFF\">&gt;=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">&amp;&amp;</span><span style=\"color: #BABED8\">h</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F78C6C\">24</span><span style=\"color: #89DDFF\">)?</span><span style=\"color: #BABED8\">h</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">*this;</span><span style=\"color: #BABED8\">\t</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">&amp;</span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">setMinute</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">m</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    minute </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">&gt;=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">&amp;&amp;</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F78C6C\">60</span><span style=\"color: #89DDFF\">)?</span><span style=\"color: #BABED8\">m</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">*this;</span><span style=\"color: #BABED8\">\t</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">&amp;</span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">setSecond</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">s</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    second </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">&gt;=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">&amp;&amp;</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F78C6C\">60</span><span style=\"color: #89DDFF\">)?</span><span style=\"color: #BABED8\">s</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">*this;</span><span style=\"color: #BABED8\">\t</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getHour</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> hour</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getMinute</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> minute</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getSecond</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> second</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">printUniversal</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #82AAFF\">setfill</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">0</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #82AAFF\">setw</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #BABED8\">hour</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">:</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #82AAFF\">setw</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #BABED8\">minute</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #82AAFF\">setw</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #BABED8\">second</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Time</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">printStandard</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;((</span><span style=\"color: #BABED8\">hour</span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">||</span><span style=\"color: #BABED8\">hour</span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">)?</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\">hour</span><span style=\"color: #89DDFF\">%</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">:</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #82AAFF\">setfill</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">0</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #82AAFF\">setw</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">)&lt;&lt;</span><span style=\"color: #BABED8\">minute</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #82AAFF\">setw</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">second</span><span style=\"color: #89DDFF\">&lt;&lt;(</span><span style=\"color: #BABED8\">hour</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">?</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">AM</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">PM</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//TimeTest.cpp</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Time.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">void</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    Time t</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    t</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">setHour</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">18</span><span style=\"color: #89DDFF\">).</span><span style=\"color: #82AAFF\">setMinute</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">30</span><span style=\"color: #89DDFF\">).</span><span style=\"color: #82AAFF\">setSecond</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">30</span><span style=\"color: #89DDFF\">);</span><span style=\"color: #676E95; font-style: italic\">//串联的函数调用</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Universal time:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    t</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">printUniversal</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">\\n</span><span style=\"color: #C3E88D\">Standard time:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    t</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">printStandard</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">\\n\\n</span><span style=\"color: #C3E88D\"> New Standard time:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    t</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">setTime</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">20</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">20</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">20</span><span style=\"color: #89DDFF\">).</span><span style=\"color: #82AAFF\">printStandard</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><h2 id=\"5-使用new和delete运算符进行内存的动态管理\"><a href=\"#5-使用new和delete运算符进行内存的动态管理\" class=\"headerlink\" title=\"5.使用new和delete运算符进行内存的动态管理\"></a>5.使用new和delete运算符进行内存的动态管理</h2><ul>\n<li>对任何内置的或用户自定义的类型控制的内存进行分配与释放称为动态内存管理，由new和delete运算符完成。new运算符为一个Time类型的对象分配大小合适的内存空间，调用默认的构造函数来初始化这个对象并返回一个指向new运算符右边类型的指针。</li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">Time </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #BABED8\">timePtr</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">timePtr </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">new</span><span style=\"color: #BABED8\"> Time</span><span style=\"color: #89DDFF\">;</span></span></code></pre></div><ul>\n<li><strong>new可以用于动态分布任何基本类型。</strong></li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #C792EA\">double</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #BABED8\">ptr </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">new</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">double</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">3.14159</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">Time </span><span style=\"color: #89DDFF\">&amp;</span><span style=\"color: #BABED8\">timePtr </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">new</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">Time</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">45</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&amp;</span><span style=\"color: #BABED8\">gradesArray </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">new</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F78C6C\">10</span><span style=\"color: #89DDFF\">];</span></span></code></pre></div><ul>\n<li>delete运算符首先调用指针所指对象的析构函数，然后回收对象占用的内存空间。</li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">delete</span><span style=\"color: #BABED8\"> timePtr</span><span style=\"color: #89DDFF\">;</span></span></code></pre></div><h2 id=\"6-static成员\"><a href=\"#6-static成员\" class=\"headerlink\" title=\"6.static成员\"></a>6.static成员</h2><ul>\n<li>对于类的每个对象来说，一般都满足一条规则，即它们各自拥有类所有数据成员的一份拷贝。但static数据成员仅有变量的一份拷贝供类的所有对象共享。如果对类的所有对象仅用一份数据拷贝就足够时，使用static数据成员可以节省存储空间。</li>\n<li><strong>在static成员函数中使用this指针是一个编译错误；</strong></li>\n<li><strong>将static成员函数声明为const是一个编译错误。const限定词指示函数不能修改它操作的对象的内容，但是static成员函数独立于类的任何对象存在并且进行操作</strong></li>\n<li><strong>在删除动态分配的内存空间后，将指向这片内存的指针设置为0</strong></li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Employee.h</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#ifndef</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">EMPLOYEE_H</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#define</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">EMPLOYEE_H</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">class</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">Employee</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">public</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">Employee</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">char*const</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">char*const</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">~Employee</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">char</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">*</span><span style=\"color: #82AAFF\">getFirstNmae</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">char</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">*</span><span style=\"color: #82AAFF\">getLastName</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">static</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">getCount</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">private</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">char</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #F07178\">firstName</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">char</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #F07178\">lastName</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">static</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> count</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#endif</span></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Employee.cpp</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">cstring</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">strlen</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">strcpy</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Employee.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Employee</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">count</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Employee</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getCount</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> count</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Employee</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">Employee</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">char</span><span style=\"color: #89DDFF\">*</span><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> first</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">char</span><span style=\"color: #89DDFF\">*</span><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> last</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    firstName </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">new</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">char</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #82AAFF\">strlen</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">first</span><span style=\"color: #89DDFF\">)+</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">strcpy</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">firstName</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">first</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    lastName </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">new</span><span style=\"color: #F07178\"> </span><span style=\"color: #C792EA\">char</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #82AAFF\">strlen</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">last</span><span style=\"color: #89DDFF\">)+</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">];</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">strcpy</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">lastName</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">last</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    count</span><span style=\"color: #89DDFF\">++;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Employee constructor for</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\">firstName</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\">lastName</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\"> called </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\">endl</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #F07178\"> </span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Employee</span><span style=\"color: #89DDFF\">::~</span><span style=\"color: #82AAFF\">Employee</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">~Employee() called for </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    firstName</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\">lastName</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #F07178\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">delete []</span><span style=\"color: #F07178\"> firstName</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">delete []</span><span style=\"color: #F07178\"> lastName</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    count</span><span style=\"color: #89DDFF\">--;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">char</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">*</span><span style=\"color: #FFCB6B\">Employee</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getFirstNmae</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> firstName</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">char</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">*</span><span style=\"color: #FFCB6B\">Employee</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getLastName</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> lastName</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//EmployeeTest.cpp</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Employee.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">void</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Number of employees before instantiation of any objects is </span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #FFCB6B\">Employee</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getCount</span><span style=\"color: #89DDFF\">()&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    Employee </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #BABED8\">e1Ptr </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">new</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">Employee</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Susan</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Baker</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    Employee </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #BABED8\">e2Ptr </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">new</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">Employee</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Robert</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Jones</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Number of employees after objects are instantiated is </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">e1Ptr</span><span style=\"color: #89DDFF\">-&gt;</span><span style=\"color: #82AAFF\">getCount</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">\\n\\n</span><span style=\"color: #C3E88D\">Employee 1: </span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">e1Ptr</span><span style=\"color: #89DDFF\">-&gt;</span><span style=\"color: #82AAFF\">getFirstNmae</span><span style=\"color: #89DDFF\">()&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">e1Ptr</span><span style=\"color: #89DDFF\">-&gt;</span><span style=\"color: #82AAFF\">getLastName</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">\\n\\n</span><span style=\"color: #C3E88D\">Employee 2: </span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">e2Ptr</span><span style=\"color: #89DDFF\">-&gt;</span><span style=\"color: #82AAFF\">getFirstNmae</span><span style=\"color: #89DDFF\">()&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">e2Ptr</span><span style=\"color: #89DDFF\">-&gt;</span><span style=\"color: #82AAFF\">getLastName</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">\\n\\n</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">delete</span><span style=\"color: #BABED8\"> e1Ptr</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    e1Ptr </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">delete</span><span style=\"color: #BABED8\"> e2Ptr</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    e2Ptr </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Number of employees after objects are deleted is </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #FFCB6B\">Employee</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getCount</span><span style=\"color: #89DDFF\">()&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><h2 id=\"6-容器类和迭代器\"><a href=\"#6-容器类和迭代器\" class=\"headerlink\" title=\"6.容器类和迭代器\"></a>6.容器类和迭代器</h2><ul>\n<li>最受欢迎的类种类之一是容器类，也称为集合类，也就是为保存一组对象而设计的类。容器类一般提供诸如插入、删除、查找、排序以及测试某元素以确定其是否是集合的成员等之类的服务。数组、堆栈、队列、树和链表但是容器类的例子。</li>\n<li>迭代器对象或者简称迭代器常常与容器类结合在一起。迭代器是对象，它“穿行”于集合，返回集合中下一个元素。</li>\n</ul>\n<h2 id=\"7-代理类\"><a href=\"#7-代理类\" class=\"headerlink\" title=\"7.代理类\"></a>7.代理类</h2><ul>\n<li>代理类的作用：即使是类的private数据，代理类也允许你向类的客户隐藏。通过向类的客户提供只知道类法人public接口的代理类，就可以使客户能够使用类的服务，而又无法访问类的实现细节。</li>\n</ul>\n<div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Yuanlei.h</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">class</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">Yuanlei</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">public</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">Yuanlei</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8; font-style: italic\">v</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">:</span><span style=\"color: #82AAFF\">value</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">v</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">setValue</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8; font-style: italic\">v</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        value </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> v</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">getValue</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">        </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> value</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">private</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> value</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;;</span></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Daililei.h</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">class</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">Yuanlei</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">class</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">Daililei</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">public</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">Daililei</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">void</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">setValue</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">getValue</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">~Daililei</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">private</span><span style=\"color: #89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    Yuanlei </span><span style=\"color: #89DDFF\">*</span><span style=\"color: #F07178\">ptr</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;;</span></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//Daililei.cpp</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Yuanlei.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Daililei.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Daililei</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">Daililei</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> v</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    :</span><span style=\"color: #82AAFF\">ptr</span><span style=\"color: #89DDFF\">(new</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">Yuanlei</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">v</span><span style=\"color: #89DDFF\">))</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Daililei</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">setValue</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8; font-style: italic\">v</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    ptr</span><span style=\"color: #89DDFF\">-&gt;</span><span style=\"color: #82AAFF\">setValue</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8\">v</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">Daililei</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #82AAFF\">getValue</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">const</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> ptr</span><span style=\"color: #89DDFF\">-&gt;</span><span style=\"color: #82AAFF\">getValue</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Daililei</span><span style=\"color: #89DDFF\">::~</span><span style=\"color: #82AAFF\">Daililei</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">delete</span><span style=\"color: #F07178\"> ptr</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span></code></pre></div><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1d1d1d\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">//DailileiTest.cpp</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">iostream</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">cout</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F78C6C\">using</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">std</span><span style=\"color: #89DDFF\">::</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Daililei.h</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">void</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    Daililei </span><span style=\"color: #82AAFF\">i</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">5</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Daililei contains: </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">getValue</span><span style=\"color: #89DDFF\">()&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\"> before setValue </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    i</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">setValue</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">10</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    cout</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Daililei contains: </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">i</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">getValue</span><span style=\"color: #89DDFF\">()&lt;&lt;</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\"> after setValue </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&lt;&lt;</span><span style=\"color: #BABED8\">endl</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div>","feature":false,"text":"C++中的类有一些进阶概念，包括friend函数、this指针和static成员。友元函数可以突破类的封装边界，this指针可以在成员函数中区分成员变量和局部变量，static成员可以在类的所有对象之间共享数据和行为。...","permalink":"/post/C++--类的深入剖析（下）","photos":[],"count_time":{"symbolsCount":"13k","symbolsTime":"11 mins."},"categories":[{"name":"C++","slug":"C","count":6,"path":"api/categories/C.json"}],"tags":[{"name":"类和对象","slug":"类和对象","count":3,"path":"api/tags/类和对象.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0-const%E5%AF%B9%E8%B1%A1%E5%92%8Cconst%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">0.const对象和const成员函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E7%94%A8%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96%E5%99%A8%E6%9D%A5%E5%88%9D%E5%A7%8B%E5%8C%96\"><span class=\"toc-text\">1.用成员初始化器来初始化</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E7%BB%84%E6%88%90%EF%BC%9A%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E7%B1%BB%E7%9A%84%E6%88%90%E5%91%98\"><span class=\"toc-text\">2.组成：对象作为类的成员</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-friend%E5%87%BD%E6%95%B0%E5%92%8Cfriend%E7%B1%BB\"><span class=\"toc-text\">3.friend函数和friend类</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-this%E6%8C%87%E9%92%88\"><span class=\"toc-text\">4.this指针</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-%E4%BD%BF%E7%94%A8new%E5%92%8Cdelete%E8%BF%90%E7%AE%97%E7%AC%A6%E8%BF%9B%E8%A1%8C%E5%86%85%E5%AD%98%E7%9A%84%E5%8A%A8%E6%80%81%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">5.使用new和delete运算符进行内存的动态管理</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-static%E6%88%90%E5%91%98\"><span class=\"toc-text\">6.static成员</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-%E5%AE%B9%E5%99%A8%E7%B1%BB%E5%92%8C%E8%BF%AD%E4%BB%A3%E5%99%A8\"><span class=\"toc-text\">6.容器类和迭代器</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#7-%E4%BB%A3%E7%90%86%E7%B1%BB\"><span class=\"toc-text\">7.代理类</span></a></li></ol>","author":{"name":"会思想的苇草i","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"日拱一卒，功不唐捐 <br/> With each day's arduous effort,<br/>no achievement shall be in vain","socials":{"github":"https://github.com/Thinkingreedi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/ASHIYI66","juejin":"https://juejin.cn/user/4284166567110935","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"C语言程序设计（第二版）知识点总结(上)","uid":"0a53341be894f519839526451962b94e","slug":"C语言程序设计（第二版）知识点总结（上）","date":"2022-01-10T02:01:04.000Z","updated":"2025-07-14T15:12:20.458Z","comments":true,"path":"api/articles/C语言程序设计（第二版）知识点总结（上）.json","keywords":"web前端开发,web前端博客,个人博客,html,css,javascript,vue,react","cover":"https://img-blog.csdnimg.cn/80b418cc19e241938eb78767b2f2382a.png","text":"《C语言程序设计（第二版）》是一本经典的教材，涵盖了C语言程序设计的基本知识和技巧。本文将对该书进行知识点总结，包括数据类型、控制语句、函数、数组、指针等重要内容。我们将概述每个知识点的核心概念和用法，并提供一些实例来加深理解。希望这篇文章能够帮助读者系统地掌握《C语言程序设计（第二版）》中的知识，提高编程能力，为日后的项目开发打下坚实的基础。...","permalink":"/post/C语言程序设计（第二版）知识点总结（上）","photos":[],"count_time":{"symbolsCount":"6.5k","symbolsTime":"6 mins."},"categories":[{"name":"C","slug":"C","count":3,"path":"api/categories/C.json"}],"tags":[{"name":"C语言","slug":"C语言","count":3,"path":"api/tags/C语言.json"}],"author":{"name":"会思想的苇草i","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"日拱一卒，功不唐捐 <br/> With each day's arduous effort,<br/>no achievement shall be in vain","socials":{"github":"https://github.com/Thinkingreedi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/ASHIYI66","juejin":"https://juejin.cn/user/4284166567110935","customs":{}}},"feature":false},"next_post":{"title":"C++--类的深入剖析(上)","uid":"6830f8a00d81e25dd175ae13a91978e0","slug":"C++--类的深入剖析（上）","date":"2021-04-14T14:38:05.000Z","updated":"2025-07-14T15:12:20.456Z","comments":true,"path":"api/articles/C++--类的深入剖析（上）.json","keywords":"web前端开发,web前端博客,个人博客,html,css,javascript,vue,react","cover":"https://img-blog.csdnimg.cn/506e6842fd8542408c76ef139e90ebd3.png","text":"在C++中，析构函数是一种特殊的成员函数，主要作用是释放对象所占用的资源，如释放动态分配的内存、关闭文件或释放其他系统资源。它可以执行任何必要的清理操作，以确保对象的资源被正确处理。...","permalink":"/post/C++--类的深入剖析（上）","photos":[],"count_time":{"symbolsCount":"10k","symbolsTime":"9 mins."},"categories":[{"name":"C++","slug":"C","count":6,"path":"api/categories/C.json"}],"tags":[{"name":"类和对象","slug":"类和对象","count":3,"path":"api/tags/类和对象.json"}],"author":{"name":"会思想的苇草i","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"日拱一卒，功不唐捐 <br/> With each day's arduous effort,<br/>no achievement shall be in vain","socials":{"github":"https://github.com/Thinkingreedi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/ASHIYI66","juejin":"https://juejin.cn/user/4284166567110935","customs":{}}},"feature":false}}